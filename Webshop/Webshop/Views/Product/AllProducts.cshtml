@model IEnumerable<AllProductsViewModel>


@{
    ViewData["Title"] = "Rock★Start - Alla Produkter";
}

<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro">
    <link href="~/lib/bootstrap/css/bootstrap.css" rel="stylesheet" />
    @*<script src="~/lib/jquery/jquery.js"></script>
    <script src="~/lib/bootstrap/js/bootstrap.js"></script>
    <link href="~/Content/site.css" rel="stylesheet" />*@
</head>


@if (TempData["Deleted"] != null)
{

    <p>
        <font size="6">
            <span style="color: red;">
                @TempData["Deleted"]
            </span>
        </font>
    </p>

}

@if (TempData["Succesmsg"] != null)

{
    <div class="alert alert-success" role="alert">
        @TempData["Succesmsg"]
    </div>
}

@if (TempData["EditSuccesmsg"] != null)

{
    <div class="alert alert-success" role="alert">
        @TempData["EditSuccesmsg"]
    </div>
}



<h1>Alla Produkter</h1>

@if (User.IsInRole("Admin"))
{
    <p></p>
    <p>

        <a href='@Url.Action("CreateProduct", "Product")'>
            <input type='button' class="btn btn-primary" value='Lägg till Ny Produkt' />
        </a>
    </p>
}


@*<table class="bg-allProducts">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Price)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Quantity)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Photo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Category)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Brand)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Price)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quantity)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    <img src="@Url.Content("~/Image/" + item.Photo)" height="80" width="100" alt="Finns ingen bild än">
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CategoryName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.BrandName)
                </td>

                    @if (User.IsInRole("Admin"))
                    {
                        <td>
                            <a class="btn btn-lg" style="color:violet;" asp-controller="Product" asp-action="ProductDetail" asp-route-id="@item.Id"><i class="fa fa-search-plus"></i></a>
                            <a class="btn btn-lg" style="color:greenyellow" asp-action="EditProduct" asp-route-id="@item.Id"><i class="fa fa-edit"></i></a>
                            <a class="btn btn-lg" style="color:red;" asp-controller="Product" asp-action="DeleteProduct" asp-route-id="@item.Id"><i class="fa fa-trash"></i></a>

                        </td>

                      }
                @if (!User.IsInRole("Admin"))
                {
            <td>
                <a class="btn btn-lg" style="color:violet;" asp-controller="Product" asp-action="ProductDetail" asp-route-id="@item.Id"><i class="fa fa-search-plus"></i></a>
            </td>
                }

                </tr>
            }
        </tbody>

    </table>*@

@foreach (var item in Model)
{


    <div class="col-sm-4 col-lg-4 col-md-4">
        <div class="thumbnail">
            <img src="@Url.Content("~/Image/" + item.Photo)" height="70" width="100" alt="Finns ingen bild än">

            <div class="caption">
                <h3 class="pull-right">@item.Price.ToString("c") </h3>
                <h3> <a>@item.Name</a></h3>
                <p>@item.Description</p>

                @if (User.IsInRole("Admin"))
                {

                    <a class="btn btn-lg" style="color:violet;" asp-controller="Product" asp-action="ProductDetail" asp-route-id="@item.Id"><i class="fa fa-search-plus"></i></a>
                    <a class="btn btn-lg" style="color:greenyellow" asp-action="EditProduct" asp-route-id="@item.Id"><i class="fa fa-edit"></i></a>
                    <a class="btn btn-lg" style="color:red;" asp-controller="Product" asp-action="DeleteProduct" asp-route-id="@item.Id"><i class="fa fa-trash"></i></a>



                }
                @if (!User.IsInRole("Admin"))
                {

                    <a class="btn btn-lg" style="color:violet;" asp-controller="Product" asp-action="ProductDetail" asp-route-id="@item.Id"><i class="fa fa-search-plus"></i></a>

                }

            </div>

        </div>
    </div>
}


